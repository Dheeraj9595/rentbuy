<!DOCTYPE html>\
{% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Modern Clothing Store</title>
  <link rel="stylesheet" href="{% static 'frontend/css/styles.css'%}">
</head>
<body>

  <header>
    <h1>Clothify</h1>
  </header>

  <!-- Story Circles -->
  <section class="stories">
      <div class="story" data-image="https://picsum.photos/id/1011/800/400">
        <img src="https://picsum.photos/id/1011/80/80" alt="">
        <p>New</p>
      </div>
      <div class="story" data-image="https://picsum.photos/id/1012/800/400">
        <img src="https://picsum.photos/id/1012/80/80" alt="">
        <p>Sale</p>
      </div>
      <div class="story" data-image="https://picsum.photos/id/1013/800/400">
        <img src="https://picsum.photos/id/1013/80/80" alt="">
        <p>Winter</p>
      </div>
  </section>

<!-- Story Modal -->
<div class="story-viewer" id="storyViewer">
  <span class="close-btn" onclick="closeStory()">Ã—</span>
  <img id="storyImage" src="" alt="Story Image">
</div>



  <!-- Carousel -->
  <section class="carousel">
      <div class="slides">
        <img src="https://picsum.photos/id/1015/800/400" alt="Cloth 1">
        <img src="https://picsum.photos/id/1016/800/400" alt="Cloth 2">
        <img src="https://picsum.photos/id/1018/800/400" alt="Cloth 3">
      </div>
  </section>

  <script>
    const stories = document.querySelectorAll(".story");
    const viewer = document.getElementById("storyViewer");
    const storyImg = document.getElementById("storyImage");

    stories.forEach(story => {
      story.addEventListener("click", () => {
        const imgUrl = story.getAttribute("data-image");
        storyImg.src = imgUrl;
        viewer.classList.add("active");

        // Auto-close after 5 seconds
        setTimeout(() => {
          closeStory();
        }, 5000);
      });
    });

    // Click outside image to close
    viewer.addEventListener("click", (e) => {
      // Only close if the click was on the background, not the image
      if (e.target === viewer) {
        closeStory();
      }
    });

    function closeStory() {
      viewer.classList.remove("active");
      setTimeout(() => {
        storyImg.src = "";
      }, 300);
    }

</script>

</body>
</html>
